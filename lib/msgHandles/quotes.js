"use strict";
var fs = require('fs');
var JSONFile = require('json-tu-file');

module.exports = {
	"where":"anywhere",
	"func":function(api, client, config, sessiondata, target, msg){
		function randomIntFromInterval(min,max){
			return Math.floor(Math.random()*(max-min+1)+min);
		}
		if (!config.quoting) return;
		var quoteRanges = { 
			"age": [ 0, 997 ],
			"alone": [ 998, 1996 ],
			"amazing": [ 1997, 2955 ],
			"anger": [ 2956, 3284 ],
			"anniversary": [ 3285, 3354 ],
			"architecture": [ 3355, 3641 ],
			"art": [ 3642, 4641 ],
			"attitude": [ 4642, 5134 ],
			"beauty": [ 5135, 6106 ],
			"best": [ 6107, 7105 ],
			"birthday": [ 7106, 7283 ],
			"business": [ 7284, 8283 ],
			"car": [ 8284, 9045 ],
			"change": [ 9046, 10039 ],
			"communication": [ 10040, 10321 ],
			"computers": [ 10322, 10587 ],
			"cool": [ 10588, 11473 ],
			"courage": [ 11474, 12087 ],
			"dad": [ 12088, 13087 ],
			"dating": [ 13088, 13278 ],
			"death": [ 13279, 14278 ],
			"design": [ 14279, 14723 ],
			"diet": [ 14724, 14982 ],
			"dreams": [ 14983, 15781 ],
			"education": [ 15782, 16779 ],
			"environmental": [ 16780, 17020 ],
			"equality": [ 17021, 17299 ],
			"experience": [ 17300, 18298 ],
			"failure": [ 18299, 19008 ],
			"faith": [ 19009, 20007 ],
			"family": [ 20008, 21006 ],
			"famous": [ 21007, 21706 ],
			"fear": [ 21707, 22706 ],
			"finance": [ 22707, 22885 ],
			"fitness": [ 22886, 23057 ],
			"food": [ 23058, 24054 ],
			"forgiveness": [ 24055, 24207 ],
			"freedom": [ 24208, 25203 ],
			"friendship": [ 25204, 25638 ],
			"funny": [ 25639, 26637 ],
			"future": [ 26638, 27636 ],
			"gardening": [ 27637, 27723 ],
			"god": [ 27724, 28720 ],
			"good": [ 28721, 29718 ],
			"government": [ 29719, 30718 ],
			"graduation": [ 30719, 30828 ],
			"great": [ 30829, 31826 ],
			"happiness": [ 31827, 32825 ],
			"health": [ 32826, 33824 ],
			"history": [ 33825, 34824 ],
			"home": [ 34825, 35824 ],
			"hope": [ 35825, 36823 ],
			"humor": [ 36824, 37362 ],
			"imagination": [ 37363, 38062 ],
			"inspirational": [ 38063, 38231 ],
			"intelligence": [ 38232, 38849 ],
			"jealousy": [ 38850, 38955 ],
			"knowledge": [ 38956, 39953 ],
			"leadership": [ 39954, 40515 ],
			"learning": [ 40516, 41505 ],
			"legal": [ 41506, 41857 ],
			"life": [ 41858, 42854 ],
			"love": [ 42855, 43851 ],
			"marriage": [ 43852, 44849 ],
			"medical": [ 44850, 45148 ],
			"men": [ 45149, 46143 ],
			"mum": [ 46144, 47141 ],
			"money": [ 47142, 48141 ],
			"morning": [ 48142, 49021 ],
			"motivational": [ 49022, 49132 ],
			"movies": [ 49133, 50132 ],
			"movingon": [ 50133, 50208 ],
			"music": [ 50209, 51207 ],
			"nature": [ 51208, 52207 ],
			"parenting": [ 52208, 52353 ],
			"patience": [ 52354, 52584 ],
			"patriotism": [ 52585, 52738 ],
			"peace": [ 52739, 53737 ],
			"pet": [ 53738, 53902 ],
			"poetry": [ 53903, 54776 ],
			"politics": [ 54777, 55776 ],
			"positive": [ 55777, 56403 ],
			"power": [ 56404, 57402 ],
			"relationship": [ 57403, 58401 ],
			"religion": [ 58402, 59401 ],
			"respect": [ 59402, 60399 ],
			"romantic": [ 60400, 60816 ],
			"sad": [ 60817, 61394 ],
			"science": [ 61395, 62394 ],
			"smile": [ 62395, 62720 ],
			"society": [ 62721, 63718 ],
			"sports": [ 63719, 64448 ],
			"strength": [ 64449, 65183 ],
			"success": [ 65184, 66179 ],
			"sympathy": [ 66180, 66354 ],
			"teacher": [ 66355, 66898 ],
			"technology": [ 66899, 67784 ],
			"teen": [ 67785, 67934 ],
			"thankful": [ 67935, 68084 ],
			"time": [ 68085, 69080 ],
			"travel": [ 69081, 69719 ],
			"trust": [ 69720, 70521 ],
			"truth": [ 70522, 71521 ],
			"war": [ 71522, 72521 ],
			"wedding": [ 72522, 72700 ],
			"wisdom": [ 72701, 73427 ],
			"women": [ 73428, 74425 ],
			"work": [ 74426, 75424 ],
			"christmas": [ 75425, 75707 ],
			"easter": [ 75708, 75748 ],
			"father's day": [ 75749, 75763 ],
			"memorial day": [ 75764, 75792 ],
			"mother's day": [ 75793, 75816 ],
			"new years": [ 75817, 75852 ],
			"saintpatrick's day": [ 75853, 75864 ],
			"thanks giving": [ 75865, 75923 ],
			"valentine's day": [ 75924, 75965 ]
		}
			
		var terms = msg.message.split(" ");
		for (var i in terms){
			var term = terms[i];
			if (term in quoteRanges){
				var quotes = JSONFile.readFileSync("data/quotes.json");
				var quote = quotes[randomIntFromInterval(quoteRanges[term][0], quoteRanges[term][1])];
				client.irc.privmsg(target, "^7\""+quote.quote+"\" - ^6"+quote.author);
				return;
			}
		}
	}
};